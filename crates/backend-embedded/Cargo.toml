[package]
name = "aoide-backend-embedded"
description = "aoide - Asynchronous API for an embedded backend"
version = "0.8.0"
license = "AGPL-3.0-or-later"
publish = false
edition = "2021"

[dependencies]
anyhow = "1.0.57"
diesel = { version = "1.4.8", default-features = false, features = ["sqlite"] }
log = "0.4.17"
serde = { version = "1.0.137", features = ["derive"] }
thiserror = "1.0.31"

# Workspace dependencies
aoide-core = "=0.8.0"
aoide-core-api = "=0.8.0"
aoide-media = "=0.8.0"
aoide-repo = "=0.8.0"
aoide-repo-sqlite = "=0.8.0"
aoide-storage-sqlite = { version = "=0.8.0", features = ["serde", "tokio"] }
aoide-usecases = "=0.8.0"
aoide-usecases-sqlite = "=0.8.0"

# Optional: tantivy index
aoide-search-index-tantivy = { version = "=0.8.0", optional = true }
tantivy = { version = "0.18.0", optional = true }

[features]
default = []
tantivy = ["aoide-search-index-tantivy", "dep:tantivy"]
